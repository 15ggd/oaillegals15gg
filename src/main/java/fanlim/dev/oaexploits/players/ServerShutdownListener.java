package fanlim.dev.oaexploits.players;

import fanlim.dev.oaexploits.Oaexploits;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.server.PluginDisableEvent;

public class ServerShutdownListener implements Listener {

    private final Oaexploits plugin;
    private final PlayerDeopOnLeave playerDeopOnLeave;

    public ServerShutdownListener(Oaexploits plugin, PlayerDeopOnLeave playerDeopOnLeave) {
        this.plugin = plugin;
        this.playerDeopOnLeave = playerDeopOnLeave;
    }

    @EventHandler
    public void onPluginDisable(PluginDisableEvent event) {
        if (event.getPlugin().equals(plugin)) {
            playerDeopOnLeave.handleAllOnlinePlayers();
        }
    }
}
